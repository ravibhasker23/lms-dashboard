@for (course of courses; track course.id; let idx = $index) {
  <div class="card border-primary mb-3 layout" style="width: 100%">
    <div class="card-body">
      <div class="row">
        <div class="col-sm-2">
          <h5 class="card-title">{{ course.domain }}</h5>
        </div>
        <div class="col-sm-10 text-align-r">
          @if (checkRisk(course)) {
            <small class="px-2"
              ><a
                href="javascript:void(0);"
                class="link-danger link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover font-text-xs"
              >
                Risk of missing goal
                <i class="bi bi-exclamation-circle-fill"></i> </a
            ></small>
          }
        </div>
      </div>

      <h6 class="card-subtitle mb-2 text-body-secondary">{{ course.name }}</h6>
      <p class="card-text">{{ course.description }}</p>
      <p class="card-text">
        @if (course.status !== "Completed") {
          <small class="text-muted"
            ><b>Deadline</b>:
            {{ course.deadline ? course.deadline : "N/A" }}</small
          >
        }
        <small
          [ngClass]="
            course.status !== 'Completed' ? 'text-muted px-3' : 'text-muted'
          "
          ><b>Status</b>: {{ course.status }}</small
        >
      </p>
      <div class="progress mt-2">
        <div
          [ngClass]="
            course.progress === 100
              ? 'progress-bar bg-success'
              : 'progress-bar bg-warning'
          "
          role="progressbar"
          [style.width.%]="course.progress"
          [attr.aria-valuenow]="course.progress"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          {{ course.progress }}%
        </div>
      </div>
    </div>

    <div class="card-footer">
      <div class="row">
        <div class="col-sm-6 text-align-l">
          <small class="px-2"
            ><a
              href="javascript:void(0);"
              class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover font-text-xs"
            >
              Continue learning <i class="bi bi-arrow-up-right"></i> </a
          ></small>

          <small class="px-2"
            ><a
              href="javascript:void(0);"
              class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover font-text-xs"
              (click)="onSelectedLearning(course)"
            >
              See learning details
              <i class="bi bi-arrow-right-circle-fill"></i> </a
          ></small>
        </div>
      </div>
    </div>
  </div>
}
